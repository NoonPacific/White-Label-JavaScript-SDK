!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("request"),require("cheerio"),require("bluebird")):"function"==typeof define&&define.amd?define("wikifakt",["request","cheerio","bluebird"],t):"object"==typeof exports?exports.wikifakt=t(require("request"),require("cheerio"),require("bluebird")):e.wikifakt=t(e.request,e.cheerio,e.bluebird)}(this,function(e,t,r){return function(e){function t(i){if(r[i])return r[i].exports;var n=r[i]={exports:{},id:i,loaded:!1};return e[i].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(1),o=i(n),u=r(2),a=i(u),f=r(3),c=i(f),s="https://en.wikipedia.org/wiki/Special:Random",d="https://en.wikipedia.org/w/api.php?format=json&action=query&prop=extracts&exintro=&explaintext=&titles=";t["default"]={factLengthLimit:200,getRandomFact:function(){var e=this;return new c["default"](function(t,r){e.getRandomRandomArticleTitle().then(function(i){var n=i.split(" ").join("%20");(0,o["default"])(d+n,function(i,n,o){if(i||200!==n.statusCode)r(i);else{var u=JSON.parse(o),a=Object.keys(u.query.pages);if(0===a.length)return e.getRandomFact();var f=u.query.pages[a[0]],c=f.extract;if(!c||""===c)return e.getRandomFact();if(c.length>e.factLengthLimit){var s=c.split(".");c=s[0]+=".",c.length<e.factLengthLimit&&s.length>1&&(c+=s[1]+".")}t(c)}})})})},getRandomRandomArticleTitle:function(){return new c["default"](function(e,t){(0,o["default"])(s,function(r,i,n){if(r||200!==i.statusCode)t(r);else{var o=a["default"].load(n),u=o("#firstHeading").text();e(u)}})})}},e.exports=t["default"]},function(t,r){t.exports=e},function(e,r){e.exports=t},function(e,t){e.exports=r}])});
//# sourceMappingURL=wikifakt.min.js.map